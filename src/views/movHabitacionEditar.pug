extends layout_modular

block content
  h1.text-center.mb-4 Editar Movimiento de Habitación

  form(method="POST" action=`/movimiento_habitacion/editar/${movimiento.id_movimiento}`)
    .row
      .col-md-4
        label(for="id_admision") ID Admisión:
        input#id_admision.form-control(type="number" name="id_admision" value=movimiento.id_admision required)
      .col-md-4
        label(for="id_habitacion") ID Habitación:
        input#id_habitacion.form-control(type="number" name="id_habitacion" value=movimiento.id_habitacion required)
      .col-md-4
        label(for="id_mov") Tipo de Movimiento:
        select#id_mov.form-control(name="id_mov" required)
          option(value="") Seleccionar tipo de movimiento
          each mov in movimientos
            option(value=mov.id_mov selected=movimiento.id_mov==mov.id_mov)= mov.nombre
    .row
      .col-md-4
        label(for="fecha_hora_ingreso") Fecha/Hora Ingreso:
        input#fecha_hora_ingreso.form-control(type="datetime-local" name="fecha_hora_ingreso" value=movimiento.fecha_hora_ingreso.toISOString().slice(0,16) required)
      .col-md-4
        label(for="fecha_hora_egreso") Fecha/Hora Egreso:
        input#fecha_hora_egreso.form-control(type="datetime-local" name="fecha_hora_egreso" value=movimiento.fecha_hora_egreso ? movimiento.fecha_hora_egreso.toISOString().slice(0,16) : '')
      .col-md-4
        label(for="desinfeccion") Desinfección:
        select#desinfeccion.form-control(name="desinfeccion" required)
          option(value="1" selected=movimiento.desinfeccion==1) Sí
          option(value="0" selected=movimiento.desinfeccion==0) No
    .row
      .col-md-2
        label(for="estado") Estado:
        select#estado.form-control(name="estado" required)
          option(value="1" selected=movimiento.estado==1) Activo
          option(value="0" selected=movimiento.estado==0) Inactivo
      .col-md-10.mt-4
        button.btn.btn-primary(type="submit") Guardar Cambios
        a.btn.btn-secondary.ms-2(href="/movimiento_habitacion") Cancelar
