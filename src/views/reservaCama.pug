extends layout_modular

block content
  .gral-hero.d-flex.align-items-center.justify-content-center.text-center
    .gral-hero-cont
      h1.text-center.px-4.pt-5 Reserva de Cama

      .table-responsive
        table#tablaCamas.table.table-striped.table-bordered
          thead
            tr
              th Sector
              th Habitaci√≥n
              th Cama
              th Estado
              th Acciones
          tbody
            if camas && camas.length
              each cama in camas
                tr
                  td #{cama.habitacion?.sector?.nombre || '-'}
                  td #{cama.habitacion?.num || '-'}
                  td #{cama.nombre}
                  td
                    if cama.estado == 0 && cama.desinfeccion
                      span.badge.bg-secondary Libre
                    else if cama.estado == 1
                      span.badge.bg-danger Ocupada
                    else if cama.estado == 2
                      span.badge.bg-warning.text-dark Reservada
                    else
                      span.badge.bg-dark Desconocido
                  td
                    if cama.estado == 0 && cama.desinfeccion
                      button.btn.btn-sm.btn-success.reserve-btn(data-id=cama.id_cama) Reservar
                    else
                      button.btn.btn-sm.btn-secondary(disabled) No disponible
            else
            h1 No hay camas disponibles.


    script(src="https://code.jquery.com/jquery-3.6.0.min.js")
    script(src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js")
    script(src="https://cdn.jsdelivr.net/npm/sweetalert2@11")
    link(rel="stylesheet", href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css") 
    script(src="/js/reservar.js")
