doctype html
html(lang="es")
  head
    meta(charset="utf-8")
    meta(http-equiv="X-UA-Compatible", content="IE=edge")
    meta(name="viewport", content="width=device-width, initial-scale=1, shrink-to-fit=no")
    meta(name="description", content="")
    meta(name="author", content="")
    title Dashboard - SB Admin
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css")
    link(rel="stylesheet", href="/sb-admin/css/styles.css")
    
  body(class="sb-nav-fixed")
    include partials/navbar

    div#layoutSidenav
      div#layoutSidenav_nav
        include partials/sidebar

      div#layoutSidenav_content
        main
          block content
        footer.py-4.bg-light.mt-auto
          div.container-fluid.px-4
            div.d-flex.align-items-center.justify-content-between.small
              div.text-muted © 2025 Tu Clínica
              div
                a(href="#") Privacy Policy
                | ·
                a(href="#") Terms & Conditions

    style.
      .expandible {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .expandible.expandida {
        transform: scale(1.1);
        z-index: 10;
        box-shadow: 0 0 15px rgba(0,0,0,0.3);
      }

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js")
    script(src="/sb-admin/js/scripts.js")
    script(src="https://use.fontawesome.com/releases/v6.3.0/js/all.js", crossorigin="anonymous")
    script(src="https://cdn.jsdelivr.net/npm/chart.js")
    script.
      const ctx1 = document.getElementById("myAreaChart").getContext("2d");
      new Chart(ctx1, {
        type: 'line',
        data: {
          labels: ["Ene", "Feb", "Mar", "Abr", "May"],
          datasets: [{
            label: "Pacientes",
            data: [20, 35, 40, 25, 30],
            fill: true,
            borderColor: "rgb(75, 192, 192)",
            tension: 0.1
          }]
        }
      });

      const ctx2 = document.getElementById("myBarChart").getContext("2d");
      new Chart(ctx2, {
        type: 'bar',
        data: {
          labels: ["Ene", "Feb", "Mar", "Abr", "May"],
          datasets: [{
            label: "Altas",
            data: [10, 15, 8, 20, 12],
            backgroundColor: "rgb(54, 162, 235)"
          }]
        }
      });

    script.
      document.addEventListener('DOMContentLoaded', () => {
        const cards = document.querySelectorAll('.expandible');

        cards.forEach(card => {
          card.addEventListener('click', (e) => {
            e.stopPropagation(); // Evita que el clic se propague al body
            cards.forEach(c => c.classList.remove('expandida'));
            card.classList.add('expandida');
          });
        });

        // Si se hace clic en cualquier parte fuera de las tarjetas, se cierran
        document.addEventListener('click', () => {
          cards.forEach(c => c.classList.remove('expandida'));
        });
      });


    script.
      function actualizarReloj() {
        const reloj = document.getElementById("reloj");
        if (reloj) {
          const ahora = new Date();

          const dias = ["Domingo", "Lunes", "Martes", "Miércoles", "Jueves", "Viernes", "Sábado"];
          const meses = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];

          const diaSemana = dias[ahora.getDay()];
          const dia = ahora.getDate();
          const mes = meses[ahora.getMonth()];
          const año = ahora.getFullYear();
          const horas = ahora.getHours().toString().padStart(2, '0');
          const minutos = ahora.getMinutes().toString().padStart(2, '0');

          const fechaHoraFormateada = `${diaSemana} ${dia} de ${mes} del año ${año} - ${horas}:${minutos}`;
          reloj.textContent = fechaHoraFormateada;
        }
      }

      setInterval(actualizarReloj, 1000);
      actualizarReloj();
